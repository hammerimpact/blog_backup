Stable Diffusion Web UI Github 위키 번역 1장 기능(Features)

AI/WebUI/Stable Diffusion/

[원본 링크](https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/Features)

---
**1장 기능(Features)**

목차


이것은 Stable Diffusion Web UI의 기능 쇼케이스 페이지입니다.

# Outpainting

페인팅은 원래 이미지를 확장하고, 생성된 빈 공간을 보완합니다.

예:
![](2022-10-20-13-05-26.png)

4chan에서 익명 사용자가 제공한 원본 이미지. 감사합니다, 익명의 사용자 님.

이 기능은 하단의 "img2img" 탭에서 "Script" -> "Poor man's outprinting" 아래에 있습니다.

Outpainting 은 일반 이미지 생성과 다르게, 단계 카운트(Step Count)가 크면 클수록 많은 이익을 얻을 수 있습니다. 좋은 Outpainting을 위한 레시피에는 그림과 매칭되는 적절한 프롬프트, 최대값으로 설정된 노이즈 제거(Denoising) 및 CFG 스케일(Scale) 슬라이더, 그리고 단계 카운트(Step Count) 50~100, 오일러 조상(Euler Ancestral) 또는 DPM2 조상 샘플러(Ancestral samplers)가 필요하다.

![](2022-10-20-13-06-09.png)


# Inpainting

img2img 탭에서, 이미지의 일부 위에 마스크를 그려넣으면, 해당 부분이 덧칠됩니다(inpaint).

![](2022-10-20-13-06-32.png)

inpainting을 위한 옵션들 :

- 웹 에디터에서 직접 마스크를 그립니다.
- 외부 에디터에서 사진의 일부를 지우고 투명한 사진을 업로드합니다. 조금이라도 투명한 영역은 마스크의 일부가 됩니다. 일부 에디터는 기본 설정으로 완전히 투명한 영역을 검은색으로 저장한다는 것을 주의해주세요.
- 모드(사진 오른쪽 아래)를 "마스크 업로드(Upload mask)"로 변경하고, 별도로 준비된 마스크용 흑백 이미지를 선택합니다(흰색 = inpaint 대상).

## 마스크 콘텐츠 (Masked content)
마스크 컨텐츠(Masked content) 필드에 기입한 내용은, inpaint 작업하기 전에 마스크된 영역에 채워넣을 내용을 결정합니다.

![](2022-10-20-13-07-33.png)

## 최대 해상도에서 inpaint

일반적으로 inpaint는 UI에서 지정된 목표 해상도로 이미지의 크기를 조정합니다. 최대 해상도가 활성화된 상태에서 inpaint를 실행할 경우, 마스크된 영역만 크기가 조정되고, 처리가 완료된 후 원래 사진에 다시 붙여넣습니다. 이렇게 하면 큰 그림을 대상으로 작업할 수 있고, inpaint 작업된 개체를 훨씬 더 큰 해상도로 렌더링할 수 있습니다.

![](2022-10-20-13-08-04.png)

## 마스크 모드 (Masking mode)
마스크 모드(Masking mode) 에는 다음 두 가지 옵션이 있습니다.

- Inpaint masked - 마스크 아래의 영역이 inpaint 됩니다.
- Inpaint not masked - 마스크 아래는 변경되지 않고, 다른 모든 부분이 inpaint 됩니다.

## 알파 마스크(Alpha mask)

![](2022-10-20-13-08-16.png)

# 프롬프트 매트릭스(Prompt matrix)

기호 | 를 사용하여 여러 프롬프트들을 구분하면, 시스템은 이것들을 모두 조합한 결과에 근거하여 이미지를 생성합니다. 예를 들어, <code>a busy city street in a modern city|illustration|cinematic lighting</code> 프롬프트를 사용하면, 다음 4가지 조합이 있을 수 있습니다(프롬프트의 첫 부분은 항상 유지됩니다).

a busy city street in a modern city
a busy city street in a modern city, illustration
a busy city street in a modern city, cinematic lighting
a busy city street in a modern city, illustration, cinematic lighting

아래 순서로 4개의 이미지가 생성되는데, 모두 동일한 시드(Seed)이고 각 프롬프트에 대응하고 있습니다.

![](2022-10-20-13-08-27.png)

다른 예시로, 이번에는 5개의 프롬프트로 16개의 바리에이션이 생성되었습니다.

![](2022-10-20-13-08-34.png)

이 기능은 "Script -> Prompt matrix"에서 찾을 수 있습니다.


# 컬러 스케치(Color Sketch)

img2img의 기본 컬러링 도구입니다. 이 기능을 사용하려면, 커맨드 라인(Command line)의 매개변수 값으로 <code>--gradio-img2img-tool color-sketch</code>를 사용하여 활성화하십시오. txt2img을 통해서 전송하는 것은 브라우저의 심각한 렉을 유발하므로, 그 대신 이미지를 업로드하는 식으로 진행하십시오. 크롬 기반 브라우저는 드래그 앤 드롭 도구를 지원합니다. (그림 참조)

![](2022-10-20-13-08-40.png)

# Stable Diffusion 이미지 업스케일링(upscale)

RealESRGAN/ESRGAN을 사용하여 이미지를 업스케일링(upscale)하고 나서 타일(tile) 단위로 그 결과물을 img2img로 개선합니다. 이 또한 외부 프로그램에서 사용자가 직접 업스케일링할 부분을 지정해서, img2img를 사용하여 타일 단위로 개선할 수 있는 옵션도 있습니다.

[오리지널 아이디어](https://github.com/jquesnelle/txt2imghd) (이것은 별개로 구현된 부분입니다.)

이 기능을 사용하려면, <code>SD upscale from the scripts dropdown selection</code>를 선택합니다(img2img 탭에서).

![](2022-10-20-13-08-46.png)

입력한 이미지가 원본의 너비 및 높이의 두 배까지 확대됩니다. 또한 UI의 너비 및 높이 슬라이더는 개별 타일들의 크기를 지정합니다. 겹침 현상 때문에, 타일의 크기 지정이 매우 중요할 수 있습니다 : 512x512 이미지에는 9개의 512x512 타일이 필요할 수도 있고(겹침 현상 때문에), 4개의 640x640 타일이 필요할 수도 있습니다.

업스케일링에 권장되는 파라미터:

- 샘플링 방법(Sampling method) : Euler a
- 노이즈 제거 강도(Denoising strength) : 0.2, 좀더 모험을 해보려면 최대 0.4까지 올려도 됩니다

![](2022-10-20-13-09-10.png)

# 주의(Attention) / 강조(Emphasis)
프롬프트에 () 기호를 사용하면, 기호에 감싸인 단어에 대한 모델의 주의를 높입니다. 반대로 [] 기호는 주의를 감소시킵니다. 수식자는 여러 개를 조합할 수 있습니다.

![](2022-10-20-13-09-17.png)

치트 시트:

- <code>a (word)</code> : word에 대한 주의를 1.1배로 높입니다.
- <code>a ((word))</code> : word에 대한 주의를 1.21(= 1.1 * 1.1)배로 높입니다.
- <code>a [word]</code> : word에 대한 주의 저하word1.1배로
- <code>a (word:1.5)</code> : 주의를 높이다word1.5배로
- <code>a (word:0.25)</code> : 에 대한 주의 저하word4의 인수(= 1 / 0.25)만큼
- <code>a \(word\)</code> : 리터럴 사용()프롬프트 문자
와 함께()가중치는 다음과 같이 지정할 수 있습니다.(text:1.4)무게가 지정되지 않은 경우 1.1로 가정합니다.가중치를 지정하는 것은()와 함께하지 않다[].

리터럴 중 하나를 사용하고 싶은 경우()[]백슬래시를 사용하여 이스케이프합니다.anime_\(character\).

2022-09-29에는 이스케이프 문자와 수치 가중치를 지원하는 새로운 구현이 추가되었다.새로운 구현의 단점은 이전 구현이 완벽하지 않아 "a (farm)", "day", "farm day" 등의 문자를 먹기도 한다는 것입니다.이 동작은 모든 텍스트를 올바르게 보존하는 새로운 구현에서는 공유되지 않습니다.즉, 저장된 시드가 다른 그림을 생성할 수 있습니다.현시점에서는, 이전의 실장을 사용하는 옵션이 있습니다.

NAI는 2022-09-29 이전부터 구현된 것을 사용하고 있습니다.단, 1.05를 곱셈기로서 사용하고 있습니다.{}대신()따라서 변환은 다음과 같이 적용됩니다.

그들의.{word}= 우리의(word:1.05)
그들의.{{word}}= 우리의(word:1.1025)
그들의.[word]= 우리의(word:0.952)(0.952 = 1/1.05)
그들의.[[word]]= 우리의(word:0.907)(0.907 = 1/1.05/1.05)
루프백
img2img에서 루프백스크립트를 선택하면 다음 배치의 입력으로 출력 이미지를 자동으로 공급할 수 있습니다.등가출력 이미지 저장 및 입력 이미지 교체.배치 횟수 설정에 따라 다음 반복 횟수가 제어됩니다.이거 받아.

일반적으로 이 작업을 수행할 때 다음 반복을 위해 여러 이미지 중 하나를 직접 선택합니다. 따라서 유용성은이 기능의 의구심이 들 수 있지만, 그 결과 매우 좋은 결과를 얻을 수 있었습니다.다른 방법을 찾아야 해

예: (선택한 결과)

![](2022-10-20-13-09-23.png)

4chan에서 Anonymous 사용자에 의한 원본 이미지.감사합니다, Anonymonymous 사용자.

X/Y 그림
다양한 파라미터로 이미지 그리드를 만듭니다.행 및 열에서 공유할 매개 변수 선택:X type 필드와 Y type 필드로 구분하여 이들 파라미터를 X 값/Y 값 필드에 입력합니다.정수의 경우,부동소수점 번호 및 범위가 지원됩니다.예:

단순 범위:
1-5= 1, 2, 3, 4, 5
괄호 안에 증가분이 있는 범위:
1-5 (+2)= 1, 3, 5
10-5 (-3)= 10, 7
1-3 (+0.5)= 1, 1.5, 2, 2.5, 3
카운트가 대괄호로 묶인 범위:
1-10 [5]= 1, 3, 5, 7, 10
0.0-1.0 [6]= 0.0, 0.2, 0.4, 0.6, 0.8, 1.0

![](2022-10-20-13-09-28.png)

위의 그래프를 만드는 설정은 다음과 같습니다.

![](2022-10-20-13-09-32.png)

프롬프트 S/R
프롬프트 S/R은 X/Y 플롯의 연산 모드를 이해하기 어려운 모드 중 하나입니다.S/R은 검색/바꾸기의 약자로, 단어 또는 구 목록을 입력하면 목록에서 첫 번째 단어를 가져와 키워드로 취급하고 해당 키워드의 모든 인스턴스를 목록의 다른 항목으로 바꿉니다.

예를 들어 프롬프트를 사용하여a man holding an apple, 8k clean및 프롬프트 S/Ran apple, a watermelon, a gun다음의 3개의 프롬프트가 표시됩니다.

a man holding an apple, 8k clean
a man holding a watermelon, 8k clean
a man holding a gun, 8k clean
목록에서는 CSV 파일의 행과 동일한 구문을 사용하기 때문에 입력에 콤마를 포함할 경우 따옴표로 텍스트를 묶고 따옴표와 쉼표 사이에 공백이 없는지 확인해야 합니다.

darkness, light, green, heat- 4가지 항목 -darkness,light,green,heat
darkness, "light, green", heat- 땡 - 4가지 아이템 -darkness,"light,green",heat
darkness,"light, green",heat- 맞아요 - 3가지 아이템 -darkness,light, green,heat
텍스트 반전
간단한 설명: 임베디드를embeddings프롬프트에서 파일 이름을 사용합니다.

긴 설명:텍스트 반전

![](2022-10-20-13-09-38.png)

크기 조정
img2img 모드에서 입력 이미지의 크기를 조정하는 세 가지 옵션이 있습니다.

크기 조정 - 소스 이미지의 크기를 목표 해상도로 조정하여 석면비가 잘못됨
자르기 및 크기 조정 - 대상 해상도 전체를 차지하도록 소스 이미지 보존 가로 세로 비율 크기 조정 및 돌출된 부분 자르기
크기 조정 및 채우기 - 대상 해상도에 완전히 맞도록 원본 이미지 보존 가로 세로 비율 크기를 조정하고 원본 이미지에서 행/열로 빈 공간을 채웁니다.
예:

![](2022-10-20-13-09-42.png)

샘플링 방법 선택
txt2img의 여러 샘플링 방법 중 하나를 선택합니다.

![](2022-10-20-13-09-46.png)

시드 크기 조정
이 기능을 사용하면 다른 해상도로 알려진 시드에서 이미지를 생성할 수 있습니다.보통 해상도를 바꾸면시드(seed)를 포함한 다른 모든 파라미터를 유지하더라도 이미지는 완전히 변경됩니다.시드 크기 조정으로 해상도를 지정합니다.다른 해상도로도 이와 매우 유사한 것을 만들어 낼 가능성이 높습니다. 다음 예제에서는 맨 왼쪽 그림이 512x512이며, 다른 그림은 정확히 동일한 파라미터로 생성되지만 더 큰 수직을 사용합니다.결의안.

![](2022-10-20-13-10-06.png)

조상들의 표본 채취는 다른 것들보다 조금 더 심하다.

시드 근처에 있는 "추가" 확인란을 클릭하면 이 기능을 찾을 수 있습니다.

바리에이션
Variation strength 슬라이더와 Variation Seed 필드를 사용하여 기존 그림을 보기 위해 변경할 크기를 지정할 수 있습니다.다른 것처럼요최대 강도로 Variation 시드를 사용한 사진을 얻을 수 있습니다. 최소 - 원본 시드를 사용한 사진(제외)(조상표본 사용 시)

![](2022-10-20-13-10-16.png)

시드 근처에 있는 "추가" 확인란을 클릭하면 이 기능을 찾을 수 있습니다.

스타일
"Save prompt as style" 버튼을 눌러 현재 프롬프트를 스타일 집합인 styles.csv 파일에 씁니다.드롭 박스프롬프트 오른쪽에서 이전에 저장한 스타일을 선택하여 자동으로 입력에 추가할 수 있습니다. 스타일을 삭제하려면 styles.csv에서 수동으로 삭제하고 프로그램을 재시작합니다.

특별한 끈을 사용하면{prompt}사용자의 스타일에서는 프롬프트에 스타일을 추가하는 대신 현재 프롬프트에 있는 모든 항목을 해당 위치로 대체합니다.

네거티브 프롬프트
이미지를 생성할 때 모델이 피해야 하는 다른 프롬프트를 사용할 수 있습니다.이것은, 를 사용해 동작합니다.negative 프롬프트는 빈 문자열 대신 샘플링 프로세스에서 무조건적인 조정을 요구합니다.

상세 설명:네거티브 프롬프트

![](2022-10-20-13-10-30.png)

CLIP 질문기
원문 : https://github.com/pharmapsychotic/clip-interrogator

CLIP 질문기를 사용하면 이미지에서 프롬프트를 검색할 수 있습니다.이 프롬프트는 이것을 재현할 수 없습니다.정확한 이미지(가끔은 가깝지 않을 수도 있지만)는 좋은 시작이 될 수 있습니다.

![](2022-10-20-13-10-35.png)

CLIP 질문기를 처음 실행하면 몇 기가바이트의 모델이 다운로드됩니다.

CLIP 질문기는 두 부분으로 구성되어 있습니다. 하나는 그림에서 텍스트 설명을 만드는 BLIP 모델입니다. 다른 하나는 CLIP 모델입니다.이 모델에서는, 리스트로부터 그림에 관련하는 몇개의 라인을 선택할 수 있습니다.디폴트로는,아티스트 리스트는 1개뿐입니다.artists.csv). 다음 절차를 수행하여 목록을 추가할 수 있습니다.

만들다interrogatewebui와 같은 위치에 있는 디렉토리
각 행에 관련 설명이 있는 텍스트 파일을 그 안에 넣다
사용하는 텍스트 파일의 예에 대해서는, https://github.com/pharmapsychotic/clip-interrogator/tree/main/data 를 참조해 주세요. 사실 거기서 파일을 가져와 사용할 수 있습니다.아티스트만 건너뛰면 됩니다.txt는 이미 리스트가 있기 때문에의 아티스트artists.csv(혹은 그걸 사용해도 누가 널 막을 거야)각 파일은 최종 설명에 한 줄의 텍스트를 추가합니다. 예를 들어 파일 이름에 ".top3"을 추가하면flavors.top3.txt이 파일에서 가장 관련성이 높은3 행은 다음과 같습니다.프롬프트에 추가되었습니다(다른 번호도 동작합니다.

이 기능과 관련된 설정은 다음과 같습니다.

Interrogate: keep models in VRAM- 모델을 사용한 후 메모리에서 Questrate 모델을 언로드하지 마십시오.VRAM이 많은 사용자용.
Interrogate: use artists from artists.csv- 아티스트 추가artists.csv심문할 때요아티스트 목록이 있는 경우 비활성화할 수 있습니다.interrogate디렉토리
Interrogate: num_beams for BLIP- BLIP 모델의 상세 설명에 영향을 주는 파라미터(생성되는 프롬프트의 첫 부분)
Interrogate: minimum description length- BLIP 모델의 텍스트 최소 길이
Interrogate: maximum descripton length- BLIP 모델의 최대 텍스트 길이
Interrogate: maximum number of lines in text file- 질문자는 파일의 첫 번째 행만 이만큼 고려합니다.0으로 설정하면 기본값은 1500으로, 이는 4GB 비디오카드로 처리할 수 있는 양입니다.
신속한 편집

![](2022-10-20-13-10-41.png)

즉시 편집하면 한 장의 사진 샘플링을 시작할 수 있지만 중간에 다른 사진으로 스왑할 수 있습니다.이를 위한 기본 구문은 다음과 같습니다.

[from:to:when]
어디에from그리고.to임의의 텍스트입니다.when는 샘플링 사이클의 지연시간을 정의하는 수치입니다.시간이 늦어질수록 모델이 끌어당기는 전력은 줄어듭니다.to대신 텍스트from텍스트. 만약when는 0 ~ 1 의 수치입니다.스위치를 작성하기 전의 스텝수의 극히 일부입니다.0보다 큰 정수일 경우 스위치를 만드는 단계입니다.

하나의 프롬프트 편집은 다른 프롬프트에 네스트해도 기능하지 않습니다.

기타:

[to:when]- 추가to일정한 스텝수 후에 프롬프트에 표시된다(when)
[from::when]- 삭제from일정한 수의 스텝 후에 프롬프트에서 표시된다)when)
예: a [fantasy:cyberpunk:16] landscape

처음에는 모델이 그림을 그리고 있습니다.a fantasy landscape.
16단계 후에는 도면으로 전환됩니다.a cyberpunk landscape환상을 가지고 멈춘 곳에서부터 계속됩니다.
다음은 여러 번 편집한 더 복잡한 예입니다. fantasy landscape with a [mountain:lake:0.25] and [an oak:a christmas tree:0.75][ in foreground::0.6][ in background:0.25] [shoddy:masterful:0.5](샘플러는 100개의 스텝이 있습니다)

처음에fantasy landscape with a mountain and an oak in foreground shoddy
순서 25 이후fantasy landscape with a lake and an oak in foreground in background shoddy
스텝 50 이후fantasy landscape with a lake and an oak in foreground in background masterful
스텝 60 이후fantasy landscape with a lake and an oak in background masterful
순서 75 이후fantasy landscape with a lake and a christmas tree in background masterful
맨 위의 그림은 다음과 같은 프롬프트로 작성되었습니다.

웃는 제2차 세계대전 장군의 공식 초상화 [남성: 여성: 0.99], 명랑하고 행복하며 디테일한 얼굴, 20세기, 매우 세밀하고 영화적인 조명, 그레그 루트코프스키의 디지털 아트 그림

숫자 0.99는 이미지의 열 레이블에 표시되는 수치로 대체됩니다.

그림의 마지막 열은 [남성:여성:0.0]입니다.이것은 본질적으로 모델에게 남성 장군으로 시작하지 않고 처음부터 여성을 그리도록 요구하기 때문에 다른 사람과 매우 다르게 보입니다.

번갈아 쓰는 말
다른 스텝마다 교환할 수 있는 편리한 구문.

[cow|horse] in a field
스텝 1에서 프롬프트는 "cow in field"입니다.2단계는 들판의 말이다.3단계는 '밭의 소' 등입니다.

아래의 고급 예를 참조하십시오.8단계에서 체인은 "man"에서 "cow"로 루프백합니다.

[cow|cow|horse|man|siberian tiger|ox|man] in a field
신속한 편집은 Doggettx에 의해 이 myspace.com 게시물에서 처음 구현되었습니다.

하이레스.고치다
이미지를 부분적으로 낮은 해상도로 렌더링하고 업그레이드한 다음 고해상도로 세부 정보를 추가할 수 있는 편리한 옵션입니다.기본적으로는 txt2img는 매우 높은 해상도로 끔찍한 이미지를 만들기 때문에 작은 이미지의 구도를 사용하지 않아도 됩니다.txt2img 페이지에서 "고도의 수정" 확인란을 선택하면 활성화됩니다.

![](2022-10-20-13-11-23.png)

![](2022-10-20-13-11-37.png)

방해하다
인터럽트 버튼을 눌러 현재 처리를 중지합니다.

4 GB 비디오 카드 지원
VRAM이 낮은 GPU 최적화이를 통해 4GB 메모리를 갖춘 비디오카드에서 512x512 이미지를 생성할 수 있습니다.

--lowvrambasujindal에 의한 최적화 아이디어의 재실현입니다. 모델은 모듈로 분할되어 GPU 메모리에 1개의 모듈만 보관됩니다.다른 모듈을 실행해야 할 경우 이전 모듈보다 이전 모듈보다 이전 모듈보다 우선합니다.GPU 메모리에서 삭제됩니다.이 최적화의 특성으로 인해 처리 속도가 약 10배 느려집니다.내 RTX 3090의 정상 작동과 비교됩니다.

--medvram조건부로 처리하지 않고 VRAM 사용을 대폭 삭감하는 또 하나의 최적화입니다.무조건 노이즈 제거가 같은 배치에 포함되어 있습니다.

이 최적화 구현에서는 원래 안정 확산 코드를 수정할 필요가 없습니다.

얼굴 복원
GFPGAN 또는 CodeFormer를 사용하여 사진의 얼굴을 개선할 수 있습니다.모든 탭에는 얼굴 복원을 사용할 수 있는 체크박스가 있습니다.또, 임의의 사진에 얼굴 복원을 사용할 수 있는 별도 탭과 표시 방법을 제어하는 슬라이더도 있습니다.효과는.설정에서 두 가지 방법 중 하나를 선택할 수 있습니다.

![](2022-10-20-13-11-47.png)

저장
출력 섹션 아래의 저장 버튼을 클릭하면 생성된 이미지가 설정에서 지정된 디렉토리에 저장됩니다.생성 파라미터는 같은 디렉토리의 csv 파일에 추가됩니다.

싣고 있는
Gradio의 로딩 그래픽은 뉴럴 네트워크의 처리 속도에 매우 부정적인 영향을 미칩니다. 내 RTX 3090은 그라디오가 있는 탭이 활성화되지 않을 때 이미지를 약 10% 더 빠르게 만듭니다.디폴트로는 UI는이제 로딩 진행률 애니메이션을 숨기고 정적 "Loading.."으로 대체합니다.". text를 통해 실현됩니다.같은 효과입니다.를 사용합니다.--no-progressbar-hiding명령줄 옵션을 사용하여 이를 되돌리고 애니메이션 로딩을 표시합니다.

프롬프트 검증
안정 확산에는 입력 텍스트 길이에 제한이 있습니다.프롬프트가 너무 길면 다음 메시지가 나타납니다.텍스트 출력 필드의 경고: 텍스트의 어떤 부분이 모델에 의해 잘리고 무시되었는지 보여줍니다.

Png 정보
생성 매개 변수에 대한 정보를 PNG에 텍스트 청크로 추가합니다.너는 나중에 보기를 지원하는 소프트웨어를 사용하여 이 정보를 표시할 수 있습니다.PNG 청크 정보(예: https://www.nayuki.io/page/png-file-chunk-inspector)

설정
설정이 있는 탭에서는 UI를 사용하여 이전에 사용하던 파라미터의 절반 이상을 편집할 수 있습니다.명령행이었습니다.설정은 config.js 파일에 저장됩니다.명령줄로 유지되는 설정옵션은 시작 시 필요한 옵션입니다.

파일 이름 형식
그Images filename pattern[ Settings ]탭의 필드를 사용하여 생성된 txt2img 및 img2img 이미지 파일 이름을 맞춤화할 수 있습니다.이 패턴은 파일명에 포함할 생성 파라미터와 그 순서를 정의합니다.지원되는 태그는 다음과 같습니다.

[steps], [cfg], [prompt], [prompt_no_styles], [prompt_spaces], [width], [height], [styles], [sampler], [seed], [model_hash], [prompt_words], [date], [datetime], [job_timestamp].

그러나 이 목록은 새로운 추가와 함께 발전합니다.UI의 "Images filename pattern" 레이블 위에 마우스를 올려 놓으면 지원되는 태그의 최신 목록을 얻을 수 있습니다.

패턴의 예:[seed]-[steps]-[cfg]-[sampler]-[prompt_spaces]

"프롬프트" 태그에 대한 주의:[prompt]프롬프트 단어 사이에 밑줄이 표시됩니다.[prompt_spaces]프롬프트가 그대로 유지됩니다(UI에 복사/붙여넣기가 용이함). [prompt_words]는 프롬프트의 단순하고 정리된 버전으로, 이미 서브 디렉토리명을 생성하기 위해 사용되고 있습니다.프롬프트의 단어(부호 없음)만 포함되어 있습니다.

이 필드를 비워두면 기본 패턴이 적용됩니다( ).[seed]-[prompt_spaces]).

태그는 실제로는 패턴 내에서 교환되고 있으므로 주의해 주십시오.즉, 태그가 없는 단어를 이 패턴에 추가하여 파일 이름을 더욱 명확하게 할 수도 있습니다.예를 들어 다음과 같습니다.s=[seed],p=[prompt_spaces]

사용자 스크립트
프로그램이 다음과 같이 기동하는 경우--allow-code옵션, 스크립트코드의 추가 텍스트 입력 필드는 페이지 하단의 [스크립트(Scripts)]-> [커스텀코드(Custom Code)]아래에 있습니다.python을 입력할 수 있습니다.이미지를 조작할 수 있는 코드입니다.

코드에서 웹 UI에서 액세스 파라미터는p변수 및 웹 UI에 대한 출력을 제공합니다.사용방법display(images, seed, info)기능.스크립트의 모든 글로벌도 액세스할 수 있습니다.

이미지를 처리하고 정상적으로 출력하는 단순한 스크립트:

import modules.processing

processed = modules.processing.process_images(p)

print("Seed was: " + str(processed.seed))

display(processed.images, processed.seed, processed.info)
UI 구성
UI 요소의 매개 변수를 변경할 수 있습니다.

무선 그룹: 기본 선택
슬라이더: 기본값, 최소, 최대, 스텝
체크박스: 체크된 상태
텍스트 및 숫자 입력: 기본값
파일은 webui dir의 ui-config.json이며, 프로그램이 시작될 때 파일이 없으면 자동으로 생성됩니다.

일반적으로 숨김 섹션을 확장하는 체크박스는 UI 구성 항목으로 설정하면 처음에는 확장되지 않습니다.

폭과 높이를 64로 나누지 않는 스텝과 디폴트 변경과 같은 설정에 따라서는 처리가 중단됩니다.img2img 탭의 기능으로 인해 UI가 중단될 수 있습니다.나는 가까운 장래에 그것들을 다룰 계획이 없다.

ESRGAN
ESRGAN 모델은 Extra 탭에서도 사용할 수 있고 SD의 업그레이드에서도 사용할 수 있습니다.

ESRGAN 모델을 사용하려면 webui.py과 같은 위치에 있는 ESRGAN 디렉토리에 모델을 배치합니다. 확장자가 .pth인 파일은 모델로 로드됩니다.모델 데이터베이스에서 모델을 가져옵니다.

데이터베이스의 일부 모델은 지원되지 않습니다.모든 2x 모델은 지원되지 않을 수 있습니다.

img2img 대체 테스트
오일러 확산기의 역방향으로 입력 이미지를 분해하여 입력 프롬프트를 구성하는 데 사용되는 노이즈 패턴을 생성합니다.

예를 들어 이 이미지를 사용할 수 있습니다.스크립트 섹션에서 img2img 대체 테스트를 선택합니다.

![](2022-10-20-13-11-55.png)

재구성 프로세스에 대한 설정을 조정합니다.

「 「변경하고 싶은 을 기술할 수 있습니다.이치노이 프롬프트를 시작 프롬프트로 설정하고 스크립트 설정에서 'Original Input Prompt'를 설정합니다.
이 스크립트는 오일러 표본 추출 방법을 기반으로 하므로 반드시 사용해야 합니다.
50~60.MUCH를 사용하다그렇지 않으면 문제가 발생합니다.50달러입니다.
CFG 스케일: 2 이하.이 데모에서는 1.8을 사용합니다.(hint에서는 ui-config.json을 편집하여 "img2img/CFG Scale/step"을 0.5가 아닌 img2img/CFG Scale/step"을 .1로 변경할 수 있습니다.
노이즈 제거 힘 - 이것은 이전 의사들이 말한 것과 달리 중요하다.1로 설정합니다.
폭/높이 - 입력 이미지의 폭/높이를 사용합니다.
시드... 이건 무시해도 돼역 오일러가 현재 이미지에 대한 노이즈를 생성하고 있습니다.
Decode cfg scale - 1보다 작은 부분이 스위트 스팟입니다.데모의 경우 1을 사용합니다.
디코딩 단계 - 위에서 설명한 대로 샘플링 단계와 일치해야 합니다.데모의 경우 50, 보다 상세한 이미지의 경우 60으로 늘리는 것을 검토해 주십시오.
위의 모든 것을 다이얼 하면, 「Generate」를 클릭해, 원래의 것에 가까운 결과를 얻을 수 있습니다.

스크립트가 소스 사진을 정확하게 재생성하고 있는지 확인한 후 프롬프트의 상세 내용을 변경할 수 있습니다.원고의 변형이 크면, 소스와는 전혀 다른 구도로 화상이 작성될 가능성이 있습니다.

위의 설정과 아래의 프롬프트를 사용한 출력 예(빨간 머리/포니는 그림으로 표시되지 않음)

![](2022-10-20-13-12-00.png)

'파란 머리의 미소녀'작동하다."갈색 머리의 찡그린 여자"작동하다."빨간 머리의 찡그린 여자"작동하다."빨간 머리의 말을 타고 있는 찌푸린 여자"그 여자를 완전히 대체한 것 같은데 이젠 조랑말도 생겼네

user.css
파일 생성:user.css근처에webui.py커스텀 CSS 코드를 입력합니다.예를 들어 갤러리의 높이를 높입니다.

#txt2img_gallery, #img2img_gallery{
    min-height: 768px;
}
notification.mp3
오디오 파일의 이름notification.mp3webui의 루트 폴더에 존재하며 생성 프로세스가 완료되면 재생됩니다.

영감의 원천으로서:

https://pixabay.com/sound-effects/search/ding/?http=0-30
https://pixabay.com/sound-effects/search/notification/?http=0-30
수정하다
CLIP 모델의 마지막 레이어 무시
이것은 설정의 슬라이더로 CLIP 네트워크에 의한 프롬프트 처리를 조기에 정지할지를 제어합니다.

자세한 설명:

CLIP은 프롬프트 텍스트를 수치로 변환하는 매우 진보된 뉴럴 네트워크입니다.뉴럴 네트워크는 이 수치 표현으로 매우 잘 작동하기 때문에 SD의 개발자들은 안정적인 확산의 이미지 생성 방법에 관련된 3가지 모델 중 하나로 CLIP를 선택했다.CLIP은 뉴럴 네트워크이기 때문에 레이어가 많다는 것을 의미합니다.프롬프트는 간단한 방법으로 디지털화된 후 레이어를 통해 전송됩니다.첫 번째 레이어 뒤에 프롬프트를 수치로 표현하여 두 번째 레이어에 입력하고 그 결과를 세 번째 레이어에 입력해 마지막 레이어에 도달합니다.그것이 안정된 확산에 사용되는 CLIP의 출력입니다.이것은 슬라이더 값 1입니다.단, 조기에 정지하고 마지막 레이어 옆에 있는 출력(슬라이더 값 2)을 사용할 수 있습니다.일찍 멈출수록 프롬프트에서 작동하는 뉴럴 네트워크 층이 줄어듭니다.

일부 모델은 이러한 종류의 수정으로 교육되었으므로 이 값을 설정하면 해당 모델에서 더 나은 결과를 얻을 수 있습니다.

